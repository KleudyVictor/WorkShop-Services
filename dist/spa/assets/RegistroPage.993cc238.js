import{e as E,k as U,Q as A,l as _}from"./use-quasar.0b52fdf5.js";import{c as N,r as q,N as $,O as j,o as T,h as M,d as O,g as D,U as F,n as K,p as G,an as H,_ as z,H as J,v as L,I as W,A as s,y as u,D as n,K as X,B as C,at as Y,au as Z}from"./index.3db8bb9c.js";import{Q as R}from"./QCard.65c1403b.js";import{Q as B}from"./QChip.a7f8187f.js";import{a as ee}from"./index.2cf0d985.js";var te=N({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validation-success","validation-error"],setup(e,{slots:a,emit:d}){const g=D(),p=q(null);let l=0;const t=[];function w(o){const i=[],y=typeof o=="boolean"?o:e.noErrorFocus!==!0,I=++l,b=(c,r)=>{d("validation-"+(c===!0?"success":"error"),r)};for(let c=0;c<t.length;c++){const r=t[c],v=r.validate();if(typeof v.then=="function")i.push(v.then(f=>({valid:f,comp:r}),f=>({valid:!1,comp:r,err:f})));else if(v!==!0){if(e.greedy===!1)return b(!1,r),y===!0&&typeof r.focus=="function"&&r.focus(),Promise.resolve(!1);i.push({valid:!1,comp:r})}}return i.length===0?(b(!0),Promise.resolve(!0)):Promise.all(i).then(c=>{const r=c.filter(k=>k.valid!==!0);if(r.length===0)return I===l&&b(!0),!0;const{valid:v,comp:f,err:Q}=r[0];return I===l&&(Q!==void 0&&console.error(Q),b(!1,f),y===!0&&v!==!0&&typeof f.focus=="function"&&f.focus()),!1})}function x(){l++,t.forEach(o=>{typeof o.resetValidation=="function"&&o.resetValidation()})}function V(o){o!==void 0&&F(o);const i=l+1;w().then(y=>{i===l&&y===!0&&(e.onSubmit!==void 0?d("submit",o):o!==void 0&&o.target!==void 0&&typeof o.target.submit=="function"&&o.target.submit())})}function S(o){o!==void 0&&F(o),d("reset"),K(()=>{x(),e.autofocus===!0&&e.noResetFocus!==!0&&h()})}function h(){E(()=>{if(p.value===null)return;const o=p.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(p.value.querySelectorAll("[tabindex]"),i=>i.tabIndex>-1);o!=null&&o.focus({preventScroll:!0})})}G(H,{bindComponent(o){t.push(o)},unbindComponent(o){const i=t.indexOf(o);i>-1&&t.splice(i,1)}});let P=!1;return $(()=>{P=!0}),j(()=>{P===!0&&e.autofocus===!0&&h()}),T(()=>{e.autofocus===!0&&h()}),Object.assign(g.proxy,{validate:w,resetValidation:x,submit:V,reset:S,focus:h,getValidationComponents:()=>t}),()=>M("form",{class:"q-form",ref:p,onSubmit:V,onReset:S},O(a.default))}});const oe=J({setup(){const e=U(),a=q(""),d=q(""),g=q(!0);return{email:a,password:d,isPwd:g,registrar:async()=>{try{(await ee.post("https://tuenvio.followvip.tech/user/",{email:a.value,password:d.value},{headers:{accept:"application/json","Content-Type":"application/json"}})).status===200&&e.notify({message:"Cuenta Registrada",color:"positive",position:"top"})}catch(l){e.notify({color:"red-4",textColor:"white",icon:"check",message:String(l.response.data.detail)})}}}}}),m=e=>(Y("data-v-4f4b023c"),e=e(),Z(),e),se={class:"q-pa-md fit row wrap justify-center items-start content-start"},ae=m(()=>n("div",{class:"q-pa-md text-center"},[n("h5",null,"Registro de Cuentas")],-1)),ne=m(()=>n("div",{class:"q-pa-md text-center text-green"},[n("h6",null,"Suerte en su compra de combos")],-1)),re={class:"q-mx-auto q-pa-md q-gutter-y-md column",style:{"max-width":"300px"}},ie={class:"text-center q-pa-md"},le=m(()=>n("div",null,null,-1)),ue=m(()=>n("div",{class:"q-pa-md text-center"},[n("h5",null,"Verificar Cuenta")],-1)),de=m(()=>n("div",{class:"q-pa-md text-center text-blue"},[n("h6",null,"Si tiene algun problema con su cuenta verifique su cuenta o cambie su contrase\xF1a")],-1)),ce={class:"q-mx-auto q-pa-md q-gutter-y-md column",style:{"max-width":"300px"}},fe=m(()=>n("h6",null,"CUENTA PREMIUM",-1)),me=m(()=>n("h6",null,"CUENTA SIN PAGAR",-1));function pe(e,a,d,g,p,l){return L(),W("div",se,[s(R,{class:"q-ma-sm my-card"},{default:u(()=>[ae,s(A),ne,s(te,{onSubmit:e.onSubmit},{default:u(()=>[n("div",re,[s(_,{filled:"",label:"Correo",modelValue:e.email,"onUpdate:modelValue":a[0]||(a[0]=t=>e.email=t),type:"email",rules:[t=>t&&t.length>0||"Campo obligatorio"]},null,8,["modelValue","rules"]),s(_,{modelValue:e.password,"onUpdate:modelValue":a[2]||(a[2]=t=>e.password=t),label:"Contrase\xF1a",filled:"",type:e.isPwd?"password":"text",rules:[t=>t&&t.length>0||"Campo obligatorio"]},{append:u(()=>[s(X,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[1]||(a[1]=t=>e.isPwd=!e.isPwd)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),n("div",ie,[s(C,{class:"q-ma-md",color:"negative",type:"submit",label:"Atras",to:"/"}),s(C,{class:"q-ma-md",color:"primary",type:"submit",label:"Registrar",onClick:e.registrar},null,8,["onClick"])])]),_:1},8,["onSubmit"]),le]),_:1}),s(R,{class:"q-ma-sm my-card"},{default:u(()=>[ue,s(A),de,n("div",ce,[s(_,{filled:"",label:"Correo a Verificar",modelValue:e.email_verificacion,"onUpdate:modelValue":a[3]||(a[3]=t=>e.email_verificacion=t),type:"email",rules:[t=>t&&t.length>0||"Campo obligatorio"]},{after:u(()=>[s(C,{round:"",dense:"",flat:"",icon:"search"})]),_:1},8,["modelValue","rules"]),s(B,{class:"q-pa-lg glossy",square:"",color:"positive","text-color":"white",icon:"verified"},{default:u(()=>[fe]),_:1}),s(B,{class:"q-pa-lg glossy",square:"",color:"negative","text-color":"white",icon:"highlight_off"},{default:u(()=>[me]),_:1}),s(_,{modelValue:e.password_change,"onUpdate:modelValue":a[4]||(a[4]=t=>e.password_change=t),label:"Nueva Contrase\xF1a",filled:"",type:e.isPwd?"password":"text",rules:[t=>t&&t.length>0||"Campo obligatorio"]},{after:u(()=>[s(C,{round:"",dense:"",flat:"",icon:"send"})]),_:1},8,["modelValue","type","rules"])])]),_:1})])}var _e=z(oe,[["render",pe],["__scopeId","data-v-4f4b023c"]]);export{_e as default};
