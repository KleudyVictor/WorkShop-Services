import{a as v,c as I,r as o,w as x,e as D,h as r,a6 as R,d as V,ar as E,_ as M,al as F,v as H,am as L,A as f,y as w,D as c,B as O,an as U,ap as y}from"./index.a1e88feb.js";import{P as S,k as A,Q as W}from"./use-quasar.463bb9b6.js";import{Q as G,a as J}from"./QCard.86a35c8f.js";import{a as K}from"./index.2cf0d985.js";import"./use-dark.7786de38.js";const X={ratio:[String,Number]};function Y(e,a){return v(()=>{const l=Number(e.ratio||(a!==void 0?a.value:void 0));return isNaN(l)!==!0&&l>0?{paddingBottom:`${100/l}%`}:null})}const Z=16/9;var ee=I({name:"QImg",props:{...X,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Z},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:a,emit:l}){const s=o(e.initialRatio),h=Y(e,s);let i;const n=[o(null),o(e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null)],d=o(0),g=o(!1),m=o(!1),k=v(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),j=v(()=>({width:e.width,height:e.height})),T=v(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),B=v(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));x(()=>p(),C);function p(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function C(t){if(clearTimeout(i),m.value=!1,t===null){g.value=!1,n[0].value=null,n[1].value=null;return}g.value=!0,n[d.value].value=t}function z({target:t}){i!==null&&(clearTimeout(i),s.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,q(t,1))}function q(t,u){i===null||u===1e3||(t.complete===!0?N(t):i=setTimeout(()=>{q(t,u+1)},50))}function N(t){i!==null&&(d.value=d.value===1?0:1,n[d.value].value=null,g.value=!1,m.value=!1,l("load",t.currentSrc||t.src))}function Q(t){clearTimeout(i),g.value=!1,m.value=!0,n[0].value=null,n[1].value=null,l("error",t)}function $(t,u){return r("div",{class:"q-img__container absolute-full",key:t},u)}function b(t){const u=n[t].value,_={key:"img_"+t,class:T.value,style:B.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...u};return d.value===t?(_.class+=" q-img__image--waiting",Object.assign(_,{onLoad:z,onError:Q})):_.class+=" q-img__image--loaded",$("img"+t,r("img",_))}function P(){return g.value!==!0?r("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},V(a[m.value===!0?"error":"default"])):r("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},a.loading!==void 0?a.loading():e.noSpinner===!0?void 0:[r(E,{color:e.spinnerColor,size:e.spinnerSize})])}return C(p()),D(()=>{clearTimeout(i),i=null}),()=>{const t=[];return h.value!==null&&t.push(r("div",{key:"filler",style:h.value})),m.value!==!0&&(n[0].value!==null&&t.push(b(0)),n[1].value!==null&&t.push(b(1))),t.push(r(R,{name:"q-transition--fade"},P)),r("div",{class:k.value,style:j.value,role:"img","aria-label":e.alt},t)}}});const te=["../../src/assets/qr/1.jpg","../../src/assets/qr/2.jpg","../../src/assets/qr/3.jpg","../../src/assets/qr/4.jpg","../../src/assets/qr/5.jpg"],ae=F({setup(){const e=A(),a=o(S.getItem("cantidad")),l=o(S.getItem("emails")||[]),s=o("");return{cantidadDisponible:a,listaCorreos:l,codigo_trans:s,qr:te,pedido:async()=>{(await K.post("https://tuenvio.followvip.tech/pedido/",{id_pago:s.value,lista_correos:l.value},{headers:{accept:"application/json","Content-Type":"application/json"}})).status===200?(S.clear(),e.notify({color:"green-4",textColor:"white",icon:"check",message:"Pedido realizado con exito"})):e.notify({color:"red-4",textColor:"white",icon:"check",message:"Error al realizar el pedido"})}}}}),ie={key:0,class:"q-pa-md fit row wrap justify-center items-start content-start"},ne={class:"q-pa-md"},le={class:"q-pa-md q-mx-auto",style:{"max-width":"330px"}},oe={class:"q-pa-md"};function re(e,a,l,s,h,i){return e.cantidadDisponible>0?(H(),L("div",ie,[f(G,{class:"my-card text-center text-bold"},{default:w(()=>[f(J,null,{default:w(()=>[f(ee,{width:"300px",height:"300px",src:e.qr[e.listaCorreos.length-1]},null,8,["src"]),c("div",ne,[c("h6",null,"Cantidad de Cuentas: "+y(e.listaCorreos.length),1),c("h6",null,"Monto Total: $ "+y(e.listaCorreos.length*15),1),c("h6",null,"Disponible: "+y(e.cantidadDisponible),1)]),c("div",le,[f(W,{standout:"",modelValue:e.codigo_trans,"onUpdate:modelValue":a[0]||(a[0]=n=>e.codigo_trans=n),label:"Codigo de Transaccion"},null,8,["modelValue"])])]),_:1})]),_:1}),c("div",oe,[f(O,{outline:"",style:{color:"goldenrod"},label:"Confirmar Pago",onClick:e.pedido},null,8,["onClick"])])])):U("",!0)}var me=M(ae,[["render",re],["__scopeId","data-v-2287acd1"]]);export{me as default};
